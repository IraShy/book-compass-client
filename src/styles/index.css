@import "tailwindcss";
@import "./variables.css";

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
}

.container {
  @apply min-h-screen flex flex-col items-center p-8;
  background-color: var(--color-secondary);
}

.title {
  @apply text-center mb-6 text-3xl font-medium;
  color: var(--color-primary);
}

.btn {
  @apply p-3 mt-6 text-white rounded transition-colors duration-200;
  background-color: var(--color-primary);

  &:hover {
    background-color: var(--color-primary-dark);
  }
}

/* ***** FORMS ***** */

.form-container {
  @apply max-w-md w-full p-8 rounded-lg shadow-md;
  background-color: var(--color-white);
}

.label {
  @apply block mb-2 font-medium;
  color: var(--color-text);
}

.input {
  @apply w-full p-3 border-2 rounded focus:outline-none focus:ring-1;
  border-color: var(--color-border);
  background-color: var(--color-white);
}

.input:focus {
  border-color: var(--color-accent);
  --tw-ring-color: var(--color-accent);
}

.input.input-error {
  border-color: var(--color-error);
}

.input.input-error:focus {
  border-color: var(--color-accent);
  --tw-ring-color: var(--color-accent);
}

/* Remove default browser validation styles */
input:not(.input-error):invalid {
  box-shadow: none;
}

.password-input-wrapper {
  @apply relative;
}

.password-input-wrapper .input {
  @apply pr-12;
}

.password-toggle-btn {
  @apply absolute inset-y-0 right-0 flex items-center px-3 text-lg cursor-pointer bg-transparent border-0 focus:outline-2 focus:outline-offset-2;
  color: var(--color-text);

  &:focus {
    outline-color: var(--color-accent);
  }
}

/* ***** ERROR MESSAGES ***** */

/* Field errors (below the input) */
.field-error-message {
  @apply text-sm block;
  color: var(--color-error);
}

/* API error message (at the top of the form) */
.api-error-message {
  @apply p-3 mb-4 rounded text-sm text-center border;
  background-color: var(--color-api-error-bg);
  color: var(--color-api-error-text);
  border-color: var(--color-error);
}

/* ***** HEADER ***** */

.header {
  background-color: var(--color-white);
  border-bottom: 1px solid var(--color-border);
  position: sticky;
  top: 0;
  z-index: 50;
}

.header-container {
  @apply max-w-7xl mx-auto px-4 flex items-center justify-between h-16 relative;
}

.logo {
  @apply text-xl font-semibold no-underline;
  color: var(--color-primary);
}

.logo:hover {
  color: var(--color-primary-dark);
}

/* Mobile menu button */
.mobile-menu-btn {
  @apply md:hidden p-2 rounded focus:outline-none focus:ring-2;
  background: none;
  border: none;
  cursor: pointer;
  --tw-ring-color: var(--color-accent);
}

.hamburger {
  @apply block w-6 h-0.5 relative;
  background-color: var(--color-text);
  transition: all 0.3s ease;
}

.hamburger::before,
.hamburger::after {
  content: "";
  @apply absolute w-6 h-0.5 left-0;
  background-color: var(--color-text);
  transition: all 0.3s ease;
}

.hamburger::before {
  top: -8px;
}

.hamburger::after {
  top: 8px;
}

.hamburger::before {
  top: -8px;
}

.hamburger.open {
  background-color: transparent;
}

.hamburger.open::before {
  transform: rotate(45deg);
  top: 0;
}

.hamburger.open::after {
  transform: rotate(-45deg);
  top: 0;
}

/* Navigation */
.nav {
  @apply absolute md:static top-full left-0 w-full md:w-auto;
  @apply bg-white md:bg-transparent shadow-lg md:shadow-none;
  @apply flex-col md:flex-row items-stretch md:items-center;
  @apply hidden md:flex gap-0 md:gap-6;
  border-top: 1px solid var(--color-border);
}

@media (min-width: 768px) {
  .nav {
    border-top: none;
  }
}

.nav.nav-open {
  @apply flex;
}

.nav-link {
  @apply block px-4 py-3 md:p-0 no-underline font-medium;
  @apply border-b md:border-b-0 last:border-b-0;
  color: var(--color-text);
  border-color: var(--color-border);
  transition: color 0.2s ease;
}

.nav-link:hover {
  color: var(--color-primary);
}

.nav-link-primary {
  @apply md:px-4 md:py-2 md:rounded;
  background-color: var(--color-primary);
  color: var(--color-white);
}

.nav-link-primary:hover {
  background-color: var(--color-primary-dark);
  color: var(--color-white);
}

.nav-button {
  @apply block w-full text-left px-4 py-3 md:p-0 md:w-auto;
  @apply font-medium border-b md:border-b-0;
  background: none;
  border-color: var(--color-border);
  color: var(--color-text);
  cursor: pointer;
  transition: color 0.2s ease;
}

.nav-button:hover {
  color: var(--color-primary);
}

/* ***** MODAL ***** */

.modal-overlay {
  @apply fixed inset-0 flex items-center justify-center;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 1000;
  backdrop-filter: blur(2px);
}

.modal-content {
  @apply max-w-md w-full mx-4 rounded-lg shadow-lg;
  background-color: var(--color-white);
  max-height: 90vh;
  overflow-y: auto;
  position: relative;
  animation: modalSlideIn 0.2s ease-out;
}

.modal-header {
  @apply p-6 pb-4 flex items-center justify-between;
  border-bottom: 1px solid var(--color-border);
}

.modal-title {
  @apply text-xl font-medium m-0;
  color: var(--color-primary);
}

.modal-close {
  @apply p-2 rounded hover:bg-gray-100 focus:outline-none focus:ring-2;
  background: none;
  border: none;
  font-size: 1.5rem;
  color: var(--color-text);
  cursor: pointer;
  line-height: 1;
  --tw-ring-color: var(--color-accent);
}

.modal-body {
  @apply p-6;
}

.modal-body .form-container {
  @apply p-0 shadow-none;
  background: transparent;
}

@keyframes modalSlideIn {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (max-width: 640px) {
  .modal-content {
    @apply mx-2 max-h-[95vh];
  }

  .modal-header,
  .modal-body {
    @apply p-4;
  }
}

/* ***** BOOK PAGE ***** */

.text-container {
  @apply max-w-3xl mx-auto;
}

.authors {
  @apply text-lg  mb-4 font-bold;
  color: var(--color-primary-dark);
}

.description {
  @apply mb-6;
}

.book-info .description h3 {
  @apply font-semibold pb-4;
}
